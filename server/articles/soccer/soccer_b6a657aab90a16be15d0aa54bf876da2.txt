Cristiano Ronaldo celebrates.Cristiano Ronaldo added a brace to his midweek hat-trick as Real Madrid survived a major second-half scare to defeat derby rivals Rayo Vallecano 3-2 and remain within six points of Primera Division leaders Barcelona.After a hugely impressive attacking display in their 7-3 mauling of Sevilla on Wednesday, Madrid looked set for another goal glut as their forward trio of Ronaldo, Karim Benzema and Gareth Bale again came to the fore.Ronaldo, who netted three against Sevilla, opened the scoring early on and then Bale set up further goals for Benzema and Ronaldo again as Madrid stormed into a 3-0 lead after 48 minutes.However, Carlo Ancelotti's men were then stunned as Rayo won, and converted, two penalties in three minutes from Jonathan Viera to set up a thrilling final half-hour in which the home side hit the woodwork and came close on a number of other occasions.They could not find an equaliser though and remain rooted to the foot of the table while Madrid stay within sight of Barca, who beat Espanyol on Friday in their own derby.Madrid took the lead in just the third minute following a devastating counter-attack that started deep inside their own half.Ronaldo swapped passes with Luka Modric before charging down the left, nutmegged Alejandro Galvez and then coolly slotted an angled shot just inside the far post.Bale then helped Madrid double their lead when, with his less-favoured right foot, he floated over a pinpoint cross for the unmarked Benzema to power home a header from six yards out.Bale, who like Benzema scored two against Sevilla, also set up Ronaldo for Madrid's third just after half-time. The Welshman dinked the ball over a defender's head near the right touchline before racing into the box and laying the ball back for Ronaldo to slam into the roof of the net.At that point it seemed a question of how many goals the visitors would run up, but within the space of three second-half minutes the whole feel of the match changed as Rayo scored twice from the penalty spot, and Madrid suddenly found themselves fighting just to hold on for the win.Viera slotted home the first in the 53rd minute after he was tripped by Pepe inside the area, and the on-loan Valencia playmaker repeated the feat moments later after Marcelo had been adjudged to have fouled Alberto Bueno as the duo reacted to a Joaquin Larrivey header that came back off the bar.Buoyed by those goals Rayo set about trying to find an equaliser and were desperately unlucky not to get it in the 64th minute when Viera's shot from the edge of the box was tipped onto the far post by Diego Lopez.Adri Embarba then tried his luck on three different occasions before Saul Niguez drew another save from Lopez with 10 minutes remaining.While Rayo pushed forward though, they left themselves increasingly open to Madird's rapid counters and from one such break Ronaldo almost netted his hat-trick, with Ruben Martinez producing two superb saves to deny the Portugal international.Rayo had one last chance to net an equaliser but Tito's looping stoppage-time header landed just wide of the far post as Madrid breathed a huge sigh of relief.